<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>原型链</title>
  </head>
  <body>

    <script type="text/javascript">
      // 第一种方式：字面量
      var o1 = {name: 'o1'};
      var o2 = new Object({name: 'o2'});
      // 第二种方式：构造函数
      var M = function (name) { this.name = name; };
      var o3 = new M('o3');
      // 第三种方式：Object.create
      var p = {name: 'p'};
      var o4 = Object.create(p);

      M.prototype.say = function () {
          console.log('say hi');
      };
      var o5 = new M('o5');


      // new 运算符背后的工作原理
      var new2 = function (func) {
          var o = Object.create(func.prototype); // 创建空对象，空对象要关联构造函数的原型对象
          var k = func.call(o); // 执行构造函数
          if (typeof k === 'object') { // 判断构造函数的执行结果是不是对象类型
              return k;
          } else {
              return o;
          }
      };


    </script>
  </body>
</html>
